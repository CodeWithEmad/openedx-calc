language: python
sudo: false
cache: pip
matrix:
  include:
  - python: 3.5
    env: TOXENV=py3
  - python: 3.5
    env: TOXENV=quality
addons:
  apt:
    packages:
    - libblas-dev
    - liblapack-dev
    - gfortran
install:
- pip install tox
- pip install coveralls
script:
- make test
after_success:
- coveralls
deploy:
  provider: pypi
  user: edx
  distributions: sdist bdist_wheel
  on:
    tags: true
    python: 3.5
    condition: "$TOXENV = quality"
  password:
    secure: 5XoqH6HJGhU10Xw6Watg7HF4KJTuuOLJ0GELO/I8kojFnOOchvf2EtNzGdFudt+qWhW3i09+fm6dpwcgq1Nxour/KHx1CpgRoLQPFAodWlbnvHXp7b+r3cfuayXAqUQgayJQmrIkNX8lxZL3oFx5oaLFlngBAiZf9LBp6zZJbnSp0FC+eHPGArKDXXdvFllq5r/xxEBUFZfjc13Xk5fCx7YOZa17/R6NfxG8+uw0ICwErrWqANYPvTYl8HdxfeZoW7NBDkX76F9x8a7OCwS+tQTHb8aYaYCMz4Zi74mS+xRhIwNz52af1ucKBVH8E8dRjYZMFrpprNupIs8dP/BpoIJajygVEpUuJuFZeVNrlHwRdo8u9OhBa2JBhn5jT22BJ2RLfaLbLkZTo1dENO71lcdrD8DgojeOjhWTElnqt0NKrOVDQpteH5GdLCiQ1vUz4B3PfzxiOnK/sDlsWUeRPlIFKkTzoEUerXk064VEzjtcbyl85J0wI3Pfc4b56bHL5bOTnC1iO2nuHtr/ayf+SNX9zAOcCv5OPCTPE/MICQ0RnnCDMRtI13hSzG77uLqv1o6jpCD4ZuaTPM2V/t6P2032xcNEC+oEJaGlGTX1mB3YFRnexaTamBqTmJlQKQ9QmbRy/1a4us1Duyj8Oo9iaVRBY7W6zXux0FAlh+IGnh4=
