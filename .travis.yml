language: python
sudo: false
cache: pip
matrix:
  include:
  - python: 3.5
    env: TOXENV=py3
  - python: 3.5
    env: TOXENV=quality
addons:
  apt:
    packages:
    - libblas-dev
    - liblapack-dev
    - gfortran
install:
- pip install tox
- pip install coveralls
script:
- make test
after_success:
- coveralls
deploy:
  provider: pypi
  user: edx
  password:
    secure: yWYbwxJuCDx6ph3rBUt22tK0HRj05UvNs2eXWZ37cHlpiREgohVKzD2M+e9XDGn9buAQ+z8v8OKSTDk34mpL7f/ZLCGywa0C4EWfQC45Hlsv/znaI1nWSW9DCUfEgYFhUa471Xhmj+0ZXkR0Jo11t1je5S7Im53A3jPep+BRJ881y761DeMq3W9ch41acccUtIY7A/0arZwC40MK+7keu6yflP0xAONkw3ZIuRBOfjymx0bolS6ARp7PYq5v6wt2E9FZGtnjCgDdkPj8zHSh2SiM87H3w50bOqf3OMSiGnxXrJGLgnfqKTx/tlC7/tKj2jSe4y7Ja3C8ONNVdNii1nfJNiiGYJhmZ9J7lJ1bTv49oF1ibd18Deh9Xj9pLuENzFL/HDU/QkGs6nuq9xmokEC3lupKkbqTBGD7vJPCJue7BK7ImfoNWmYqWGVqKhbnbPvdnOWZGwDVlYKdezzgwIZATT8o9LKvMZ6hJDDTlr8HFTn26zzNkQcJLDVDhjyKncNmvjaG7FuKZjTi6t+XGzo2Gbff8Op1P865VjvN9zsIFDjeBzMtAoggqizjyOZCOaHfcQZpYd+1FUE6SCKb+DRaCVLGRRMZ2iJQ7hLD8ili0BvUCd1ycnvzJqudzOGQwFh98nSgKoV7gWs3ffFQX86uEHBQ/PEDMK2A0E2WBnA=
  distributions: sdist bdist_wheel
  on:
    tags: true
    python: 3.5
    condition: "$TOXENV = quality"
